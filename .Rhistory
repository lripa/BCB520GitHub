library(dplyr)
library(ggplot2)
library(lubridate)
library(RColorBrewer)
NIH10 <- read_xlsx("NIH10UI.xlsx")
# Aggregate data to get the total amount per PI and filter out amounts smaller than 200000
total_amount_per_PI <- NIH10 %>%
group_by(PI) %>%
summarise(TotalAmount = sum(Amount, na.rm = TRUE)) %>%
filter(TotalAmount >= 200000) %>%  # Filter step added here
arrange(desc(TotalAmount))
ggplot(total_amount_per_PI, aes(x = PI, y = TotalAmount / 1e6)) +
geom_bar(stat = "identity") +
labs(title = "NIH Total Funding per PI in the Last 10 Years",
y = "Total Funding Amount (USD Millions)",
x = "Principal Investigator") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))  # Rotate X-axis labels for readability
library(readxl)
library(dplyr)
library(ggplot2)
BU <- read_xlsx("NIH.xlsx")
# Use 'BU' instead of 'df' for operations
selected_universities <- BU %>%
filter(organization.org_name %in% c("BOISE STATE UNIVERSITY", "UNIVERSITY OF IDAHO")) %>%
group_by(organization.org_name) %>%
summarise(total_award_amount = sum(award_amount, na.rm = TRUE))
# Create the bar chart
ggplot(selected_universities, aes(x = organization.org_name, y = total_award_amount, fill = organization.org_name)) +
geom_bar(stat = "identity", position = "dodge") +
labs(title = "Total Award Amount by University NIH",
x = "University",
y = "Total Award Amount NIH") +
theme_minimal() +
scale_fill_manual(values = c("BOISE STATE UNIVERSITY" = "blue", "UNIVERSITY OF IDAHO" = "gold"))
# Load necessary libraries
library(readr)
library(dplyr)
library(ggplot2)
library(lubridate)
# Read the CSV file
data <- read_csv("USDAallU.csv")
# Convert 'Award Date' to Date object and filter data from 2014 to 2024
data <- data %>%
mutate(AwardDate = ymd(`Award Date`)) %>%
filter(AwardDate >= as.Date("2014-01-01") & AwardDate <= as.Date("2024-12-31"))
# Aggregate data to get the total Award Dollars for each Grantee Name
total_award_per_grantee <- data %>%
group_by(`Grantee Name`) %>%
summarise(TotalAwardDollars = sum(`Award Dollars`, na.rm = TRUE)) %>%
arrange(desc(TotalAwardDollars)) # Optional: arrange in descending order of total award dollars
# Create the bar charts
ggplot(total_award_per_grantee, aes(x = reorder(`Grantee Name`, TotalAwardDollars), y = TotalAwardDollars)) +
geom_bar(stat = "identity") +
labs(title = "Total Award Dollars per Grantee (2014-2024)",
x = "Grantee Name",
y = "Total Award Dollars") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))  # Rotate X-axis labels for better readability
# Load necessary libraries
library(readr)
library(dplyr)
library(ggplot2)
library(lubridate)
# Read the CSV file
data <- read_csv("USDAallU.csv")
# Convert 'Award Date' to Date object and filter data from 2014 to 2024
data <- data %>%
mutate(AwardDate = ymd(`Award Date`)) %>%
filter(AwardDate >= as.Date("2014-01-01") & AwardDate <= as.Date("2024-12-31"))
# Aggregate data to get the total Award Dollars for each Grantee Name
total_award_per_grantee <- data %>%
group_by(`Grantee Name`) %>%
summarise(TotalAwardDollars = sum(`Award Dollars`, na.rm = TRUE)) %>%
arrange(desc(TotalAwardDollars)) # Optional: arrange in descending order of total award dollars
# Create the bar charts
ggplot(total_award_per_grantee, aes(x = reorder(`Grantee Name`, TotalAwardDollars), y = TotalAwardDollars)) +
geom_bar(stat = "identity") +
labs(title = "Total Award Dollars per Grantee (2014-2024)",
x = "Grantee Name",
y = "Total Award Dollars") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))  # Rotate X-axis labels for better readability
# Load necessary libraries
library(readr)
library(dplyr)
library(ggplot2)
library(lubridate)
# Read the CSV file
data <- read_csv("USDAallU.csv")
# Convert 'Award Date' to Date object using correct format and filter data from 2014 to 2024
data <- data %>%
mutate(AwardDate = mdy(`Award Date`)) %>%
filter(AwardDate >= as.Date("2014-01-01") & AwardDate <= as.Date("2024-12-31"))
# Aggregate data to get the total Award Dollars for each Grantee Name
total_award_per_grantee <- data %>%
group_by(`Grantee Name`) %>%
summarise(TotalAwardDollars = sum(`Award Dollars`, na.rm = TRUE)) %>%
arrange(desc(TotalAwardDollars)) # Optional: arrange in descending order of total award dollars
# Create the bar charts
ggplot(total_award_per_grantee, aes(x = reorder(`Grantee Name`, TotalAwardDollars), y = TotalAwardDollars)) +
geom_bar(stat = "identity") +
labs(title = "Total Award Dollars per Grantee (2014-2024)",
x = "Grantee Name",
y = "Total Award Dollars") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))  # Rotate X-axis labels for better readability
# Load necessary libraries
library(readr)
library(dplyr)
library(ggplot2)
library(lubridate)
# Read the CSV file
data <- read_csv("USDAallU.csv")
# Convert 'Award Date' to Date object using correct format and filter data from 2014 to 2024
data <- data %>%
mutate(AwardDate = mdy(`Award Date`)) %>%
filter(AwardDate >= as.Date("2014-01-01") & AwardDate <= as.Date("2024-12-31"))
# Aggregate data to get the total Award Dollars for each Grantee Name
total_award_per_grantee <- data %>%
group_by(`Grantee Name`) %>%
summarise(TotalAwardDollars = sum(`Award Dollars`, na.rm = TRUE)) %>%
arrange(desc(TotalAwardDollars)) # Optional: arrange in descending order of total award dollars
# Create the bar charts with Y axis in USD million dollars
ggplot(total_award_per_grantee, aes(x = reorder(`Grantee Name`, TotalAwardDollars), y = TotalAwardDollars / 1e6)) +
geom_bar(stat = "identity") +
labs(title = "Total Award Dollars per Grantee (2014-2024)",
x = "Grantee Name",
y = "Total Award Dollars (Millions USD)") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))  # Rotate X-axis labels for better readability
# Load necessary libraries
library(readr)
library(dplyr)
library(ggplot2)
library(lubridate)
# Read the CSV file
data <- read_csv("USDAallU.csv")
# Convert 'Award Date' to Date object using correct format and filter data from 2014 to 2024
data <- data %>%
mutate(AwardDate = mdy(`Award Date`)) %>%
filter(AwardDate >= as.Date("2014-01-01") & AwardDate <= as.Date("2024-12-31"))
# Aggregate data to get the total Award Dollars for each Grantee Name
total_award_per_grantee <- data %>%
group_by(`Grantee Name`) %>%
summarise(TotalAwardDollars = sum(`Award Dollars`, na.rm = TRUE)) %>%
arrange(desc(TotalAwardDollars)) # Optional: arrange in descending order of total award dollars
# Assuming total_award_per_grantee is already created from previous steps
# Define your custom color palette
# Replace "Grantee1", "Grantee2", ..., with the actual Grantee Names from your dataset
custom_colors <- c("Grantee1" = "blue", "Grantee2" = "red", "Grantee3" = "green", "Grantee4" = "orange")
# Create the bar chart with custom colors
ggplot(total_award_per_grantee, aes(x = reorder(`Grantee Name`, TotalAwardDollars), y = TotalAwardDollars / 1e6, fill = `Grantee Name`)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = custom_colors) +
labs(title = "Total Award Dollars per Grantee (2014-2024)",
x = "Grantee Name",
y = "Total Award Dollars (Millions USD)") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))  # Rotate X-axis labels for better readability
# Load necessary libraries
library(readr)
library(dplyr)
library(ggplot2)
library(lubridate)
# Read the CSV file
data <- read_csv("USDAallU.csv")
# Convert 'Award Date' to Date object using correct format and filter data from 2014 to 2024
data <- data %>%
mutate(AwardDate = mdy(`Award Date`)) %>%
filter(AwardDate >= as.Date("2014-01-01") & AwardDate <= as.Date("2024-12-31"))
# Aggregate data to get the total Award Dollars for each Grantee Name
total_award_per_grantee <- data %>%
group_by(`Grantee Name`) %>%
summarise(TotalAwardDollars = sum(`Award Dollars`, na.rm = TRUE)) %>%
arrange(desc(TotalAwardDollars)) # Optional: arrange in descending order of total award dollars
# Assuming total_award_per_grantee is already created from previous steps
# Define your custom color palette
# Replace "Grantee1", "Grantee2", ..., with the actual Grantee Names from your dataset
custom_colors <- c("Grantee1" = "blue", "Grantee2" = "red", "Grantee3" = "green", "Grantee4" = "orange")
# Create the bar chart with custom colors
ggplot(total_award_per_grantee, aes(x = reorder(`Grantee Name`, TotalAwardDollars), y = TotalAwardDollars / 1e6, fill = `Grantee Name`)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = custom_colors) +
labs(title = "Total Award Dollars per Grantee (2014-2024)",
x = "Grantee Name",
y = "Total Award Dollars (Millions USD)") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))  # Rotate X-axis labels for better readability
# Load necessary libraries
library(readr)
library(dplyr)
library(ggplot2)
library(lubridate)
# Read the CSV file
data <- read_csv("USDAallU.csv")
# Convert 'Award Date' to Date object using correct format and filter data from 2014 to 2024
data <- data %>%
mutate(AwardDate = mdy(`Award Date`)) %>%
filter(AwardDate >= as.Date("2014-01-01") & AwardDate <= as.Date("2024-12-31"))
# Aggregate data to get the total Award Dollars for each Grantee Name
total_award_per_grantee <- data %>%
group_by(`Grantee Name`) %>%
summarise(TotalAwardDollars = sum(`Award Dollars`, na.rm = TRUE)) %>%
arrange(desc(TotalAwardDollars)) # Optional: arrange in descending order of total award dollars
# Assuming total_award_per_grantee is already created from previous steps
# Convert Grantee Name to a factor (if not already)
total_award_per_grantee$`Grantee Name` <- factor(total_award_per_grantee$`Grantee Name`)
# Assuming custom_colors is correctly mapped to your Grantee Names
custom_colors <- c("Grantee1" = "#1f77b4", "Grantee2" = "#ff7f0e", "Grantee3" = "#2ca02c", "Grantee4" = "#d62728")
# Replace Grantee1, Grantee2, etc., with actual names and choose your desired colors in HEX or standard color names.
ggplot(total_award_per_grantee, aes(x = reorder(`Grantee Name`, TotalAwardDollars), y = TotalAwardDollars / 1e6, fill = `Grantee Name`)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = custom_colors) +
labs(title = "Total Award Dollars per Grantee (2014-2024)",
x = "Grantee Name",
y = "Total Award Dollars (Millions USD)") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))  # For better readability of Grantee Names
# Load necessary libraries
library(readr)
library(dplyr)
library(ggplot2)
library(lubridate)
# Read the CSV file
data <- read_csv("USDAallU.csv")
# Convert 'Award Date' to Date object using correct format and filter data from 2014 to 2024
data <- data %>%
mutate(AwardDate = mdy(`Award Date`)) %>%
filter(AwardDate >= as.Date("2014-01-01") & AwardDate <= as.Date("2024-12-31"))
# Aggregate data to get the total Award Dollars for each Grantee Name
total_award_per_grantee <- data %>%
group_by(`Grantee Name`) %>%
summarise(TotalAwardDollars = sum(`Award Dollars`, na.rm = TRUE)) %>%
arrange(desc(TotalAwardDollars)) # Optional: arrange in descending order of total award dollars
# Assuming total_award_per_grantee is already created from previous steps
# Convert Grantee Name to a factor (if not already)
total_award_per_grantee$`Grantee Name` <- factor(total_award_per_grantee$`Grantee Name`)
# Assuming custom_colors is correctly mapped to your Grantee Names
custom_colors <- c("Grantee1" = "#1f77b4", "Grantee2" = "#ff7f0e", "Grantee3" = "#2ca02c", "Grantee4" = "#d62728")
# Replace Grantee1, Grantee2, etc., with actual names and choose your desired colors in HEX or standard color names.
ggplot(total_award_per_grantee, aes(x = reorder(`Grantee Name`, TotalAwardDollars), y = TotalAwardDollars / 1e6, fill = `Grantee Name`)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = custom_colors) +
labs(title = "Total Award Dollars per Grantee (2014-2024)",
x = "Grantee Name",
y = "Total Award Dollars (Millions USD)") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
scale_fill_manual(values = c("BOISE STATE UNIVERSITY" = "blue", "UNIVERSITY OF IDAHO" = "gold"))# For better readability of Grantee Names
# Load necessary libraries
library(readr)
library(dplyr)
library(ggplot2)
library(lubridate)
# Read the CSV file
data <- read_csv("USDAallU.csv")
# Convert 'Award Date' to Date object using correct format and filter data from 2014 to 2024
data <- data %>%
mutate(AwardDate = mdy(`Award Date`)) %>%
filter(AwardDate >= as.Date("2014-01-01") & AwardDate <= as.Date("2024-12-31"))
# Aggregate data to get the total Award Dollars for each Grantee Name
total_award_per_grantee <- data %>%
group_by(`Grantee Name`) %>%
summarise(TotalAwardDollars = sum(`Award Dollars`, na.rm = TRUE)) %>%
arrange(desc(TotalAwardDollars)) # Optional: arrange in descending order of total award dollars
# Assuming total_award_per_grantee is already created from previous steps
# Convert Grantee Name to a factor (if not already)
total_award_per_grantee$`Grantee Name` <- factor(total_award_per_grantee$`Grantee Name`)
# Assuming total_award_per_grantee is prepared correctly
# Define custom colors for each university
custom_colors <- c("Boise State University" = "blue",
"University of Idaho" = "gold",
"Washington State University" = "red",
"University of Montana" = "tan")
# Ensure 'Grantee Name' is a factor and its levels match the custom_colors names
total_award_per_grantee$`Grantee Name` <- factor(total_award_per_grantee$`Grantee Name`,
levels = names(custom_colors))
# Create the bar chart with custom colors
ggplot(total_award_per_grantee, aes(x = reorder(`Grantee Name`, -TotalAwardDollars), y = TotalAwardDollars / 1e6, fill = `Grantee Name`)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = custom_colors) +
labs(title = "Total Award Dollars per Grantee (2014-2024)",
x = "Grantee Name",
y = "Total Award Dollars (Millions USD)") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))  # Rotate X-axis labels for better readability
# Load necessary libraries
library(readr)
library(dplyr)
library(ggplot2)
library(lubridate)
# Read the CSV file
data <- read_csv("USDAallU.csv")
# Convert 'Award Date' to Date object using correct format and filter data from 2014 to 2024
data <- data %>%
mutate(AwardDate = mdy(`Award Date`)) %>%
filter(AwardDate >= as.Date("2014-01-01") & AwardDate <= as.Date("2024-12-31"))
# Aggregate data to get the total Award Dollars for each Grantee Name
total_award_per_grantee <- data %>%
group_by(`Grantee Name`) %>%
summarise(TotalAwardDollars = sum(`Award Dollars`, na.rm = TRUE)) %>%
arrange(desc(TotalAwardDollars)) # Optional: arrange in descending order of total award dollars
# Assuming total_award_per_grantee is already created from previous steps
# Define custom colors for each university
custom_colors <- c("Boise State University" = "blue",
"University of Idaho" = "gold",
"Washington State University" = "red",
"University of Montana" = "tan")
# Ensure 'Grantee Name' is a factor and its levels match the custom_colors names
total_award_per_grantee$`Grantee Name` <- factor(total_award_per_grantee$`Grantee Name`,
levels = names(custom_colors))
# Create the bar chart with custom colors
ggplot(total_award_per_grantee, aes(x = reorder(`Grantee Name`, -TotalAwardDollars), y = TotalAwardDollars / 1e6, fill = `Grantee Name`)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = custom_colors) +
labs(title = "Total Award Dollars per Grantee (2014-2024)",
x = "Grantee Name",
y = "Total Award Dollars (Millions USD)") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))  # Rotate X-axis labels for better readability
# Load necessary libraries
library(readr)
library(dplyr)
library(ggplot2)
library(lubridate)
# Read the CSV file
data <- read_csv("USDAallU.csv")
# Convert 'Award Date' to Date object using correct format and filter data from 2014 to 2024
data <- data %>%
mutate(AwardDate = mdy(`Award Date`)) %>%
filter(AwardDate >= as.Date("2014-01-01") & AwardDate <= as.Date("2024-12-31"))
# Aggregate data to get the total Award Dollars for each Grantee Name
total_award_per_grantee <- data %>%
group_by(`Grantee Name`) %>%
summarise(TotalAwardDollars = sum(`Award Dollars`, na.rm = TRUE)) %>%
arrange(desc(TotalAwardDollars)) # Optional: arrange in descending order of total award dollars
# Assuming total_award_per_grantee is already created from previous steps
# Convert Grantee Name to a factor (if not already)
total_award_per_grantee$`Grantee Name` <- factor(total_award_per_grantee$`Grantee Name`)
# Assuming custom_colors is correctly mapped to your Grantee Names
custom_colors <- c("Grantee1" = "#1f77b4", "Grantee2" = "#ff7f0e", "Grantee3" = "#2ca02c", "Grantee4" = "#d62728")
# Replace Grantee1, Grantee2, etc., with actual names and choose your desired colors in HEX or standard color names.
ggplot(total_award_per_grantee, aes(x = reorder(`Grantee Name`, TotalAwardDollars), y = TotalAwardDollars / 1e6, fill = `Grantee Name`)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = custom_colors) +
labs(title = "Total Award Dollars per Grantee (2014-2024)",
x = "Grantee Name",
y = "Total Award Dollars (Millions USD)") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))  # For better readability of Grantee Names
# Load necessary libraries
library(readr)
library(dplyr)
library(ggplot2)
library(lubridate)
# Read the CSV file
data <- read_csv("USDAallU.csv")
# Convert 'Award Date' to Date object using correct format and filter data from 2014 to 2024
data <- data %>%
mutate(AwardDate = mdy(`Award Date`)) %>%
filter(AwardDate >= as.Date("2014-01-01") & AwardDate <= as.Date("2024-12-31"))
# Aggregate data to get the total Award Dollars for each Grantee Name
total_award_per_grantee <- data %>%
group_by(`Grantee Name`) %>%
summarise(TotalAwardDollars = sum(`Award Dollars`, na.rm = TRUE)) %>%
arrange(desc(TotalAwardDollars)) # Optional: arrange in descending order of total award dollars
# Assuming total_award_per_grantee is already created from previous steps
# Convert Grantee Name to a factor (if not already)
total_award_per_grantee$`Grantee Name` <- factor(total_award_per_grantee$`Grantee Name`)
# Assuming custom_colors is correctly mapped to your Grantee Names
custom_colors <- c("Boise State University" = "blue",
"University of Idaho" = "gold",
"Washington State University" = "red",
"University of Montana" = "tan")
# Replace Grantee1, Grantee2, etc., with actual names and choose your desired colors in HEX or standard color names.
ggplot(total_award_per_grantee, aes(x = reorder(`Grantee Name`, TotalAwardDollars), y = TotalAwardDollars / 1e6, fill = `Grantee Name`)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = custom_colors) +
labs(title = "Total Award Dollars per Grantee (2014-2024)",
x = "Grantee Name",
y = "Total Award Dollars (Millions USD)") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))  # For better readability of Grantee Names
# Load necessary libraries
library(readr)
library(dplyr)
library(ggplot2)
library(lubridate)
# Read the CSV file
data <- read_csv("USDAallU.csv")
# Convert 'Award Date' to Date object using correct format and filter data from 2014 to 2024
data <- data %>%
mutate(AwardDate = mdy(`Award Date`)) %>%
filter(AwardDate >= as.Date("2014-01-01") & AwardDate <= as.Date("2024-12-31"))
# Aggregate data to get the total Award Dollars for each Grantee Name
total_award_per_grantee <- data %>%
group_by(`Grantee Name`) %>%
summarise(TotalAwardDollars = sum(`Award Dollars`, na.rm = TRUE)) %>%
arrange(desc(TotalAwardDollars)) # Optional: arrange in descending order of total award dollars
# Assuming total_award_per_grantee is already created from previous steps
# Convert Grantee Name to a factor (if not already)
total_award_per_grantee$`Grantee Name` <- factor(total_award_per_grantee$`Grantee Name`)
# Assuming custom_colors is correctly mapped to your Grantee Names
custom_colors <- c("Boise State University" = "blue",
"University of Idaho" = "gold",
"Washington State University" = "red",
"University of Montana" = "tan")
ggplot(total_award_per_grantee, aes(x = reorder(`Grantee Name`, TotalAwardDollars), y = TotalAwardDollars / 1e6, fill = `Grantee Name`)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = c("Boise State University" = "blue",
"University of Idaho" = "gold",
"Washington State University" = "red",
"University of Montana" = "tan")) +
labs(title = "Total Award Dollars per Grantee (2014-2024)",
x = "Grantee Name",
y = "Total Award Dollars (Millions USD)") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))  # For better readability of Grantee Names
library(readxl)
library(dplyr)
library(ggplot2)
# Read data from an Excel file
NSF10 <- read_xlsx("NSF10UI.xlsx")
# Convert start and end to Date objects
# Assuming your Excel file has columns named 'start' and 'end'
NSF10$start <- as.Date(NSF10$start, format = "%m/%d/%Y")
NSF10$end <- as.Date(NSF10$end, format = "%m/%d/%Y")
# Create the Gantt chart
ggplot(NSF10, aes(y = Agency, x = start, xend = end, yend = Agency)) +
geom_segment(size = 20, color = "red") + # Use linewidth instead of size
scale_x_date(date_breaks = "1 year", date_labels = "%Y", limits = c(as.Date("2021-01-01"), as.Date("2029-01-01"))) +
labs(title = "10 years of  NSF funding",
x = "Timeline",
y = "Agency") +
theme_minimal() +
theme(legend.position = "bottom")
library(readxl)
library(dplyr)
library(ggplot2)
library(lubridate)
library(RColorBrewer)
NSF10 <- read_xlsx("NSF10UI.xlsx")
library(ggplot2)
library(dplyr)
# Assuming 'funding_data' is your dataset and 'timeline_start' and 'timeline_end' are defined
# Filter the dataset for only NIH agency
nih_data <- funding_data %>%
filter(Agency == "NIH")
# Plot
ggplot(nih_data, aes(y = factor(Agency, levels = unique(Agency)), x = start, xend = end, yend = factor(Agency, levels = unique(Agency)))) +
geom_segment(size = 20, color = "blue") +  # Adjust size and color as needed
scale_x_date(limits = c(timeline_start, timeline_end), date_breaks = "1 year", date_labels = "%Y") +
labs(title = "10 years Timeline of NIH",
x = "Year",
y = "Agency") +
theme_minimal() +
theme(axis.text.y = element_text(size = 7),
panel.grid.major.x = element_line(color = "grey80"),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank())
library(ggplot2)
library(dplyr)
library(lubridate)
df <- read_xlsx("UIawards.xlsx")
# Assuming your dataset is named df
# Clean 'Agency' data (remove leading/trailing spaces, check for case sensitivity)
df$Agency <- as.character(trimws(df$Agency))
# Convert 'start' and 'end' columns to Date format
df$start <- as.Date(df$start, format = "%Y-%m-%d")
df$end <- as.Date(df$end, format = "%Y-%m-%d")
# Create a timeline that spans 10 years back and 10 years forward from today
timeline_start <- Sys.Date() - years(10)
timeline_end <- Sys.Date() + years(10)
# Plotting
ggplot(df, aes(y = factor(Agency, levels = unique(Agency)), x = start, xend = end, yend = factor(Agency, levels = unique(Agency)))) +
geom_segment(size = 20, color = "blue") +  # Adjust size and color as needed
scale_x_date(limits = c(timeline_start, timeline_end), date_breaks = "1 year", date_labels = "%Y") +
labs(title = "10 years Timeline",
x = "Year",
y = "Agency") +
theme_minimal() +
theme(axis.text.y = element_text(size = 7),
panel.grid.major.x = element_line(color = "grey80"),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank())
library(readxl)
library(dplyr)
library(ggplot2)
library(lubridate)
library(RColorBrewer)
NIH10 <- read_xlsx("NIH10UI.xlsx")
library(ggplot2)
library(dplyr)
# Assuming 'funding_data' is your dataset and 'timeline_start' and 'timeline_end' are defined
# Filter the dataset for only NIH agency
nih_data <- NIH10 %>%
filter(Agency == "NIH")
# Plot
ggplot(nih_data, aes(y = factor(Agency, levels = unique(Agency)), x = start, xend = end, yend = factor(Agency, levels = unique(Agency)))) +
geom_segment(size = 20, color = "blue") +  # Adjust size and color as needed
scale_x_date(limits = c(timeline_start, timeline_end), date_breaks = "1 year", date_labels = "%Y") +
labs(title = "10 years Timeline of NIH",
x = "Year",
y = "Agency") +
theme_minimal() +
theme(axis.text.y = element_text(size = 7),
panel.grid.major.x = element_line(color = "grey80"),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank())
