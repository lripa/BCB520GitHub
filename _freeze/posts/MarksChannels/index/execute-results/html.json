{
  "hash": "39521795475923ecf8dbf7e8537dc317",
  "result": {
    "markdown": "---\ntitle: “ASSIGNMENT 4”\n\nsubtitle: “Marks and Channels”\n\nauthor: “Lucas”\n\ndate: February 14, 2024  \n\nimage: \"weevil.jpg\" \n\ncategories: [Assignment, DataViz]\n\ncode-fold: true\n\ncode-tools: true\n\ndescription: “Bar graphs and basic data viz for an insecticide trial”\n---\n\n\n# **Expressiveness and Effectiveness**\n\n## \n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readxl)\nWeevils <- read_excel(\"~/Mi unidad/Uidaho/Clases/PhD/Spring 2024/BCB 520/Data/Weevils.xlsx\")\nhead(Weevils)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 9\n  Treatment Replicate `Insecticide Name` Before `7 dpa` `14 dpa` `21 dpa`\n      <dbl>     <dbl> <chr>               <dbl>   <dbl>    <dbl>    <dbl>\n1         0         1 Control                11       3        5        2\n2         0         2 Control                 4       4        4        3\n3         0         3 Control                16       6        7        3\n4         0         4 Control                 5       3        1        3\n5         0         5 Control                10       6        7        4\n6         0         6 Control                 2       5        2        4\n# ℹ 2 more variables: `28 dpa` <dbl>, `35 dpa` <dbl>\n```\n:::\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'readr' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'dplyr' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'stringr' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.4.4     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nBmeans <-Weevils %>%\n  group_by(`Insecticide Name`) %>%\n  summarise(AVG = mean(Before),\n            AVG1 = mean(`7 dpa`, na.rm = TRUE), AVG2 = mean(`14 dpa`, na.rm = TRUE), AVG3 = mean(`21 dpa`, na.rm = TRUE), AVG4 = mean(`28 dpa`, na.rm = TRUE), AVG5 = mean(`35 dpa`, na.rm = TRUE) )\nlibrary(ggplot2)\n```\n:::\n\n\n## **Figure 1** \n\nThis figure uses different colors to make clear the difference between treatments. As the concentration of the experimental sample increases, the hue of the blue color increases as well making sense (to me).\n\n## \n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nBmeans <-Weevils %>%\n  group_by(`Insecticide Name`) %>%\n  summarise(AVG = mean(Before),\n            AVG1 = mean(`7 dpa`, na.rm = TRUE), AVG2 = mean(`14 dpa`, na.rm = TRUE), AVG3 = mean(`21 dpa`, na.rm = TRUE), AVG4 = mean(`28 dpa`, na.rm = TRUE), AVG5 = mean(`35 dpa`, na.rm = TRUE) )\nlibrary(ggplot2)\nmy_colors <- c(\"green\", \"cyan\", \"blue\", \"darkblue\", \"gold\", \"black\")\n\nggplot(Bmeans, aes(x = `Insecticide Name`, y = AVG, fill = `Insecticide Name`)) +\n  geom_bar(stat = \"identity\") +\n  scale_fill_manual(values = my_colors) +\n  labs(title = \"Mean weevils per plant before treatments\",\n       x = \"Insecticides\",\n       y = \"Mean weevils/Plant\") +\n  theme(axis.text.x = element_text(angle = 10, vjust = 0.5, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n## **Figure 2** \n\nThis figure violates the channel correct use, since it uses the same color for every treatment, still is possible to understand what is going on but it takes significantly more time.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(Bmeans, aes(x = `Insecticide Name`, y = AVG)) +\n  geom_bar(stat = \"identity\", fill = \"black\") +\n  labs(title = \"Mean weevils per plant before treatments\",\n       x = \"Insecticides\",\n       y = \"Mean weevils/Plant\") +\n  theme(axis.text.x = element_text(angle = 10, vjust = 0.5, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n# **Discriminability**\n\n## **Figure 3**\n\nThis figure uses different colors and marks (dots) to make clear the difference between treatments.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(Bmeans, aes(x = `Insecticide Name`, y = AVG5, group = 1, color = `Insecticide Name`)) +\n  geom_line() +\n  geom_point() + # Adds points to the line graph for clarity\n  scale_color_manual(values = my_colors) +\n  labs(title = \"Mean weevils per plant 35 DPA\",\n       x = \"Insecticides\",\n       y = \"Mean weevils/Plant\") +\n  theme(axis.text.x = element_text(angle = 10, vjust = 0.5, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n## **Figure 4**\n\nA thick line, no color difference, no marks in between treatments, makes difficult to separate them. Same channel for everything.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(Bmeans, aes(x = `Insecticide Name`, y = AVG5, group = 1)) +\n  geom_line(size = 30, color = \"black\") \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n```\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\n  labs(title = \"Mean weevils per plant 35 DPA\",\n       x = \"Insecticides\",\n       y = \"Mean weevils/Plant\") +\n  theme(axis.text.x = element_text(angle = 10, vjust = 0.5, hjust = 1))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nNULL\n```\n:::\n:::\n\n\n# **Separability**\n\n## **Figure 5**\n\nStandard Error of the Mean (SEM), and bars for each treatment are presented using different channels. They are easily distinguishable between each other.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nBmeans <- Weevils %>%\n  group_by(`Insecticide Name`) %>%\n  summarise(AVG = mean(Before),\n            AVG1 = mean(`7 dpa`, na.rm = TRUE),\n            AVG2 = mean(`14 dpa`, na.rm = TRUE),\n            AVG3 = mean(`21 dpa`, na.rm = TRUE),\n            AVG4 = mean(`28 dpa`, na.rm = TRUE),\n            AVG5 = mean(`35 dpa`, na.rm = TRUE),\n            SD_14dpa = sd(`14 dpa`, na.rm = TRUE), \n            N_14dpa = sum(!is.na(`14 dpa`))) %>% \n  mutate(SEM_14dpa = SD_14dpa / sqrt(N_14dpa)) \nggplot(Bmeans, aes(x = `Insecticide Name`, y = AVG2, fill = `Insecticide Name`)) +\n  geom_bar(stat = \"identity\") +\n  geom_errorbar(aes(ymin = AVG2 - SEM_14dpa, ymax = AVG2 + SEM_14dpa), width = 0.2) +\n  scale_fill_manual(values = my_colors) +\n  labs(title = \"Mean weevils per plant at 14 dpa\",\n       x = \"Insecticides\",\n       y = \"Mean weevils/Plant\") +\n  theme(axis.text.x = element_text(angle = 10, vjust = 0.5, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n## **Figure 6**\n\nStandard Error of the Mean (SEM), and bars for each treatment shares the same channels. They are hardly distinguishable between each other.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nggplot(Bmeans, aes(x = `Insecticide Name`, y = AVG2, fill = `Insecticide Name`)) +\n  geom_bar(stat = \"identity\") +\n  geom_errorbar(aes(ymin = AVG2 - SEM_14dpa, ymax = AVG2 + SEM_14dpa, color = `Insecticide Name`), \n                width = 1, size = 3) +\n  scale_fill_manual(values = my_colors) +\n  scale_color_manual(values = my_colors) + \n  labs(title = \"Mean weevils per plant at 14 dpa\",\n       x = \"Insecticides\",\n       y = \"Mean weevils/Plant\") +\n  theme(axis.text.x = element_text(angle = 10, vjust = 0.5, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n## **Figure 7**\n\nAs we compare the insecticide treatments with the control, this figure clearly depicts the differences between them and the control, using different channels,\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nBmeans <- Weevils %>%\n  group_by(`Insecticide Name`) %>%\n  summarise(AVG = mean(Before),\n            AVG1 = mean(`7 dpa`, na.rm = TRUE),\n            AVG2 = mean(`14 dpa`, na.rm = TRUE),\n            AVG3 = mean(`21 dpa`, na.rm = TRUE),\n            AVG4 = mean(`28 dpa`, na.rm = TRUE),\n            AVG5 = mean(`35 dpa`, na.rm = TRUE),\n            SD_35dpa = sd(`35 dpa`, na.rm = TRUE),  # Calculate SD for 35 dpa\n            N_35dpa = sum(!is.na(`35 dpa`))) %>%  # Count non-NA values for 35 dpa\n  mutate(SEM_35dpa = SD_35dpa / sqrt(N_35dpa))  # Calculate SEM for 35 dpa\n\n# Assuming my_colors is already defined\nggplot(Bmeans, aes(x = `Insecticide Name`, y = AVG5, fill = `Insecticide Name`)) +\n  geom_bar(stat = \"identity\") +\n  geom_errorbar(aes(ymin = AVG5 - SEM_35dpa, ymax = AVG5 + SEM_35dpa), width = 0.2) +\n  scale_fill_manual(values = my_colors) +\n  labs(title = \"Mean weevils per plant at 35 dpa\",\n       x = \"Insecticides\",\n       y = \"Mean weevils/Plant\") +\n  theme(axis.text.x = element_text(angle = 10, vjust = 0.5, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n## **Figure 8**\n\nHere, I’m using the same data at 35 dpa, but the scale of the Y-axis is incorrect. The same channels are used for everything without any markers for separability, resulting in an awful graph.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(Bmeans, aes(x = `Insecticide Name`, y = AVG5, group = 1)) +\n  geom_line(size = 15, color = \"black\") +  # Adjust line size to a reasonable value\n  scale_y_continuous(limits = c(NA, 50)) + # Set the upper limit of y-axis to 50\n  labs(title = \"Mean weevils per plant 35 DPA\",\n       x = \"Insecticides\",\n       y = \"Mean weevils/Plant\") +\n  theme(axis.text.x = element_text(angle = 10, vjust = 0.5, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}